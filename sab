local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local UserInputService = game:GetService("UserInputService")

-- ========== REMUEVE TODOOS ACESORIOS/ROPA AL EJECUTAR EL SCRIPT ==========
local function removeAllAccessoriesFromCharacter()
    local character = player.Character
    if not character then return end
    for _, item in ipairs(character:GetChildren()) do
        if item:IsA("Accessory")
        or item:IsA("LayeredClothing")
        or item:IsA("Shirt")
        or item:IsA("ShirtGraphic")
        or item:IsA("Pants")
        or item:IsA("BodyColors")
        or item:IsA("CharacterMesh") then
            pcall(function() item:Destroy() end)
        end
    end
end

player.CharacterAdded:Connect(function()
    task.wait(0.2)
    removeAllAccessoriesFromCharacter()
end)

if player.Character then
    task.defer(removeAllAccessoriesFromCharacter)
end

-- ========== FPS DEVOURER ==========
local FPSDevourer = {}
do
    FPSDevourer.running = false
    local TOOL_NAME = "Tung Bat"

    local function equipTungBat()
        local character = player.Character
        local backpack = player:FindFirstChild("Backpack")
        if not character or not backpack then return false end
        local tool = backpack:FindFirstChild(TOOL_NAME)
        if tool then
            tool.Parent = character
            return true
        end
        return false
    end

    local function unequipTungBat()
        local character = player.Character
        local backpack = player:FindFirstChild("Backpack")
        if not character or not backpack then return false end
        local tool = character:FindFirstChild(TOOL_NAME)
        if tool then
            tool.Parent = backpack
            return true
        end
        return false
    end

    function FPSDevourer:Start()
        if self.running then return end
        self.running = true
        self._stop = false
        task.spawn(function()
            while self.running and not self._stop do
                equipTungBat()
                task.wait(0.01) -- ðŸ”¥ now 0.01
                unequipTungBat()
                task.wait(0.01)
            end
        end)
    end

    function FPSDevourer:Stop()
        self.running = false
        self._stop = true
        unequipTungBat()
    end

    player.CharacterAdded:Connect(function()
        self.running = false
        self._stop = true
    end)
end

-- ========== UI ==========
local gui = Instance.new("ScreenGui")
gui.Name = "DEVORADOR_DE_MUNDOS"
gui.ResetOnSpawn = false
gui.Parent = playerGui

local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 200, 0, 80)
main.Position = UDim2.new(0.5, -100, 0.5, -40)
main.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
main.Active = true
main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 12)

local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1, 0, 0, 30)
title.Text = "DEVORADOR DE MUNDOS"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextSize = 16

local button = Instance.new("TextButton", main)
button.Size = UDim2.new(1, -20, 0, 30)
button.Position = UDim2.new(0, 10, 0, 40)
button.Text = "Start"
button.Font = Enum.Font.GothamBold
button.TextSize = 16
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Instance.new("UICorner", button).CornerRadius = UDim.new(0, 8)

-- toggle logic
local running = false
button.MouseButton1Click:Connect(function()
    running = not running
    if running then
        button.Text = "Stop"
        button.BackgroundColor3 = Color3.fromRGB(60, 200, 60)
        FPSDevourer:Start()
    else
        button.Text = "Start"
        button.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
        FPSDevourer:Stop()
    end
end)
